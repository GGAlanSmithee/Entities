<!DOCTYPE html>
<html>
    <head>
        <title>Basic usage of Entites.js</title>
    </head>
    <body>
        <script type='text/javascript' src='../../dist/Entities.js'></script>
        <script type='text/javascript' src='js/TestComponent.js'></script>
        <script type='text/javascript' src='js/TestComponentTwo.js'></script>
        <script type='text/javascript' src='js/TestSystem.js'></script>
        
        <script type='text/javascript'>

        'use strict';
        
        let system = new Entities.SystemManager();
            system.registerSystem(Logic);
        
        let world = new Entities.World(1000, Entities.World.Type.Dynamic);
            world.registerComponent(Test);
            world.registerComponent(TestTwo);
        
        let entityFactory = new Entities.EntityFactory();
            entityFactory.registerInitializer(Test, function(test) {
                test.Rect = { x : 0, y : 0, w : 0, h : 0 };
            });
            
            entityFactory.registerInitializer(TestTwo, function(testTwo) {
                testTwo.Name = "";
            });
        
        let configuration = entityFactory.build()
                                         .withComponent(Test)
                                         .withComponent(TestTwo)
                                         .createConfiguration();
        
        entityFactory.build()
                     .withComponent(Test)
                     .create(world, 3);
                                         
        entityFactory.create(world, 4, configuration);
        
        entityFactory.build()
                     .withComponent(TestTwo)
                     .create(world, 3);
                     
        system.LogicSystems.forEach(function(system) {
            system(world);
        });
        
        system.LogicSystems.forEach(function(system) {
            system(world);
        });
        
        </script> 
    </body>
</html>